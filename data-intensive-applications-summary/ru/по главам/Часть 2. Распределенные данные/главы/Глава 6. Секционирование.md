# Глава 6. Секционирование

Секционирование (sharding) необходимо для масштабируемости при больших объемах данных. Разбиение данных на секции, хранящиеся на разных узлах, улучшает производительность и пропускную способность.

## [[6.1. Секционирование и репликация]] [6.1. Секционирование и репликация](../../../полный/Часть 2. Распределенные данные/Глава 6. Секционирование/подтемы/6.1. Секционирование и репликация.md)

Секционирование и репликация дополняют друг друга: каждая секция реплицируется для отказоустойчивости.

## [[6.2. Секционирование данных типа «ключ — значение»]] [6.2. Секционирование данных типа «ключ — значение»](../../../полный/Часть 2. Распределенные данные/Глава 6. Секционирование/подтемы/6.2. Секционирование данных типа «ключ — значение».md)

**Секционирование по диапазонам:** ключи сортируются, каждая секция содержит диапазон. Преимущества: эффективные запросы по диапазонам. Недостатки: возможны горячие точки при частых обращениях к соседним ключам.

**Хеш-секционирование:** хеш ключа определяет секцию. Преимущества: равномерное распределение нагрузки. Недостатки: неэффективные запросы по диапазонам.

**Гибридные подходы:** составные ключи (хеш + сортировка) для баланса.

## [[6.3. Секционированиеи вторичные индексы]] [6.3. Секционированиеи вторичные индексы](../../../полный/Часть 2. Распределенные данные/Глава 6. Секционирование/подтемы/6.3. Секционированиеи вторичные индексы.md)

**Локальные индексы:** индексы хранятся в секции с данными. Упрощает записи, но усложняет чтение (запросы к нескольким секциям).

**Глобальные индексы:** индексы секционируются отдельно. Упрощает чтение, но усложняет записи (обновление нескольких секций).

## [[6.4. Перебалансировка секций]] [6.4. Перебалансировка секций](../../../полный/Часть 2. Распределенные данные/Глава 6. Секционирование/подтемы/6.4. Перебалансировка секций.md)

**Методы:** хеширование по модулю N (неэффективно), фиксированное количество секций (больше секций, чем узлов), динамическое секционирование (автоматическое разбиение/объединение), секционирование пропорционально количеству узлов.

Цель: равномерное распределение нагрузки, минимизация перемещений данных, минимальные перебои.

## [[6.5. Маршрутизация запросов]] [6.5. Маршрутизация запросов](../../../полный/Часть 2. Распределенные данные/Глава 6. Секционирование/подтемы/6.5. Маршрутизация запросов.md)

**Способы:** балансировщик нагрузки, маршрутизирующее звено, прямое подключение клиентов. Использование сервисов координации (ZooKeeper) для отслеживания распределения секций. Gossip-протокол (Cassandra, Riak) для обмена информацией без центрального сервиса. Параллельное выполнение запросов в MPP-системах.

## [[6.6. Резюме]] [6.6. Резюме](../../../полный/Часть 2. Распределенные данные/Глава 6. Секционирование/подтемы/6.6. Резюме.md)

Два основных подхода: по диапазонам (эффективные запросы, но горячие точки) и хеш-секционирование (равномерная нагрузка, но неэффективные диапазоны). Вторичные индексы: локальные (проще записи) или глобальные (проще чтение). Перебалансировка и маршрутизация критичны для масштабируемости.

---

**Подробнее:** [[Глава 6. Секционирование]] [Глава 6. Секционирование](Глава 6. Секционирование.md)

