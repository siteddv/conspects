В настоящей главе мы обсудили новые подходы к проектированию информационных систем, и я включил в нее свои личные мнения и размышления о будущем.

## Интеграция данных

Мы начали с того, что нет ни одного инструмента, который бы эффективно справлялся со всеми возможными вариантами использования, поэтому каждый раз для достижения своих целей необходимо комбинировать разные программные продукты. Мы обсудили, как решить эту проблему интеграции данных с помощью пакетной обработки и потоков событий, чтобы обеспечить передачу данных между разными системами.

**Метод разделения систем:**
- В предложенном методе одни системы были отнесены к системам записи, в то время как другие получают от них данные путем преобразований
- Таким образом можно поддерживать индексы, материализованные представления, модели машинного обучения, статистические сводки и многое другое
- Сделав эти преобразования и трансформации асинхронными и слабосвязанными, мы не даем локальным проблемам распространиться на другие части системы, тем самым повышая надежность и отказоустойчивость системы в целом

**Развитие приложений:**
- Представление потоков данных как преобразований из одного набора данных в другой также помогает развивать приложения
- Чтобы изменить один из этапов обработки, достаточно просто запустить новый код преобразования для всего набора входных данных и получить результат
- Аналогичным образом, если что-то пойдет не так, можно исправить код и снова обработать данные с целью их восстановить

## Отделение от баз данных

Эти процессы очень похожи на те, что уже реализованы внутри баз данных, и, следовательно, мы переходим к идее приложений информационных потоков как к разделению компонентов БД и построению приложения путем составления этих слабосвязанных компонентов.

**Производное состояние:**
- Производное состояние может быть обновлено с помощью отслеживания изменений в базовых данных
- Более того, само производное состояние способно дополнительно отслеживаться потребителями, расположенными ниже по потоку
- Можно даже довести этот поток данных до конечного пользователя, для которого отображаются данные, и таким образом создавать динамически обновляемые UI, чтобы отражать изменения данных и продолжать работать в автономном режиме

## Стремление к корректности

Затем мы обсудили, как сделать так, чтобы вся эта обработка оставалась корректной в случае сбоев.

**Надежные гарантии целостности:**
- Мы увидели следующее: надежные гарантии целостности могут быть реализованы с возможностью масштабирования при условии асинхронной обработки событий с помощью сквозных идентификаторов операций, которые позволяют сделать операции идемпотентными, и путем асинхронной проверки ограничений
- Клиенты могут либо дождаться проверки, либо продолжить не дожидаясь и потом принести извинения за нарушение ограничений
- Этот метод гораздо более масштабируемый и надежный, чем традиционный подход с использованием распределенных транзакций, и именно так на практике работают многие бизнес-процессы

**Системы без координации:**
- Структурируя приложения вокруг потока данных и асинхронно проверяя ограничения, мы можем избежать избыточной координации и создавать системы, сохраняющие целостность, но при этом хорошо работающие даже в географически распределенных структурах и при наличии сбоев
- Затем мы немного поговорили об использовании аудита для проверки целостности данных и обнаружения повреждений данных

## Делать что должно

Наконец, мы немного отступили от темы и рассмотрели некоторые этические аспекты построения высоконагруженных данными приложений.

**Этические аспекты:**
- Мы увидели, что, хотя данные можно применять для благих целей, они все же способны причинить значительный ущерб: например, стать обоснованием для решений, серьезно влияющих на жизнь людей
- Такие решения трудно обжаловать, а это, в свою очередь, ведет к дискриминации, слежке и раскрытию конфиденциальной информации
- Мы также исследовали риск утечки данных
- Теперь мы можем сделать вывод, что использование данных с благими намерениями может иметь непредвиденные последствия

**Ответственность разработчиков:**
- Поскольку программное обеспечение и информация столь сильно влияют на окружающий мир, мы, разработчики, должны помнить, что несем ответственность за работу, направленную в мир, в котором хотим жить, — мир, относящийся к людям гуманно и уважительно
- Я надеюсь, что вместе мы достигнем этой цели

