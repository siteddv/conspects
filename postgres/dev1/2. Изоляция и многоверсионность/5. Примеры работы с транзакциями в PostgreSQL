–ü–µ—Ä–µ—Å–∫–∞–∑ –ø—è—Ç–æ–π –ª–æ–≥–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏: –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ PostgreSQL

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —É—Ä–æ–≤–Ω–µ–π –∏–∑–æ–ª—è—Ü–∏–∏ –∏ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –º–Ω–æ–≥–æ–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç–∏ (MVCC).


---

1. –ö–∞–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ PostgreSQL?

–õ—é–±–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–æ–º–∞–Ω–¥—ã:

BEGIN;

–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∏–∑ –¥–≤—É—Ö –∫–æ–º–∞–Ω–¥:

COMMIT; ‚Äì —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

ROLLBACK; ‚Äì –æ—Ç–º–µ–Ω—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.


–ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

1. –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é:

BEGIN;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;


2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å:

SELECT * FROM accounts WHERE id = 1;


3. –ï—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ ‚Äì —Ñ–∏–∫—Å–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è:

COMMIT;


4. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ ‚Äì –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º:

ROLLBACK;



–ü–æ—Å–ª–µ ROLLBACK –±–∞–∑–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.


---

2. –ö–∞–∫ MVCC –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.

–°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–≤–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–∏—Ç–∞—é—Ç –∏ –∏–∑–º–µ–Ω—è—é—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É

–®–∞–≥ 1. –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (TX1)

BEGIN;
SELECT * FROM products WHERE id = 1;

TX1 –≤–∏–¥–∏—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, price = 100).


–®–∞–≥ 2. –í–æ –≤—Ç–æ—Ä–æ–º —Å–µ–∞–Ω—Å–µ –∑–∞–ø—É—Å–∫–∞–µ–º –≤—Ç–æ—Ä—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (TX2) –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—É

BEGIN;
UPDATE products SET price = 120 WHERE id = 1;
COMMIT;

TX2 –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∞ –Ω–æ–≤—É—é —Ü–µ–Ω—É, –Ω–æ TX1 –ø–æ–∫–∞ –æ–± —ç—Ç–æ–º –Ω–µ –∑–Ω–∞–µ—Ç.


–®–∞–≥ 3. TX1 —Å–Ω–æ–≤–∞ –¥–µ–ª–∞–µ—Ç SELECT

SELECT * FROM products WHERE id = 1;

TX1 –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é (price = 100), –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–µ —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö –±—ã–ª —Å–æ–∑–¥–∞–Ω –≤ –º–æ–º–µ–Ω—Ç –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.


–®–∞–≥ 4. TX1 –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∏ –¥–µ–ª–∞–µ—Ç COMMIT

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é —Ü–µ–Ω—É (price = 120).

–í—ã–≤–æ–¥:

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–Ω–∏–º–∫–æ–º –¥–∞–Ω–Ω—ã—Ö, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤ –º–æ–º–µ–Ω—Ç –µ—ë –Ω–∞—á–∞–ª–∞.

–ï—Å–ª–∏ –¥—Ä—É–≥–æ–π —Å–µ–∞–Ω—Å –∏–∑–º–µ–Ω–∏–ª –¥–∞–Ω–Ω—ã–µ, –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.



---

3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ UPDATE?

–ö–æ–≥–¥–∞ –æ–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–∑–º–µ–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫—É, –¥—Ä—É–≥–∏–µ –Ω–µ –º–æ–≥—É—Ç –µ—ë –∏–∑–º–µ–Ω—è—Ç—å –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π.

–ü—Ä–∏–º–µ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫–∏

–®–∞–≥ 1. TX1 –∏–∑–º–µ–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫—É, –Ω–æ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

BEGIN;
UPDATE products SET price = 130 WHERE id = 1;

TX1 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ —Å—Ç—Ä–æ–∫—É, –Ω–æ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é (COMMIT –Ω–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω).


–®–∞–≥ 2. –í–æ –≤—Ç–æ—Ä–æ–º —Å–µ–∞–Ω—Å–µ TX2 –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Ç—É –∂–µ —Å—Ç—Ä–æ–∫—É

BEGIN;
UPDATE products SET price = 140 WHERE id = 1;

TX2 –∑–∞–≤–∏—Å–∞–µ—Ç –≤ –æ–∂–∏–¥–∞–Ω–∏–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ TX1.


–®–∞–≥ 3. TX1 –≤—ã–ø–æ–ª–Ω—è–µ—Ç COMMIT

COMMIT;

–¢–æ–ª—å–∫–æ —Ç–µ–ø–µ—Ä—å TX2 –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É.


–í—ã–≤–æ–¥:

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –µ—ë –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è COMMIT –∏–ª–∏ ROLLBACK.

–ß—Ç–µ–Ω–∏–µ (SELECT) –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.



---

4. –ö–∞–∫ ROLLBACK –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–∞–Ω–Ω—ã–µ?

–ï—Å–ª–∏ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤—Å–µ –æ–Ω–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω COMMIT.

–ü—Ä–∏–º–µ—Ä –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é:

BEGIN;
UPDATE accounts SET balance = balance - 50 WHERE id = 1;
UPDATE accounts SET balance = balance + 50 WHERE id = 2;


2. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –æ—à–∏–±–∫—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º ROLLBACK:

ROLLBACK;


3. –ë–∞–ª–∞–Ω—Å –æ–±–æ–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –æ—Å—Ç–∞–ª—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—ã–ª–∏ –æ—Ç–º–µ–Ω–µ–Ω—ã.



–í—ã–≤–æ–¥:

–ï—Å–ª–∏ –Ω–µ—Ç COMMIT, –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è.

ROLLBACK –æ—Ç–º–µ–Ω—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ—à–∏–±–∫–∏ –±—ã–ª–∏ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º UPDATE.



---

5. –í–ª–∏—è–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –∏–∑–æ–ª—è—Ü–∏–∏ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã)

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–∏–º–µ—Ä: Read Committed (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

1. TX1 —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:

BEGIN;
SELECT * FROM orders WHERE id = 1;

–í–∏–¥–∏—Ç status = 'pending'.



2. TX2 –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–º–º–∏—Ç–∏—Ç:

UPDATE orders SET status = 'shipped' WHERE id = 1;
COMMIT;


3. TX1 –≤—ã–ø–æ–ª–Ω—è–µ—Ç SELECT —Å–Ω–æ–≤–∞:

SELECT * FROM orders WHERE id = 1;

TX1 —É–∂–µ –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å 'shipped'.




üîπ –í Read Committed –∫–∞–∂–¥–æ–µ —á—Ç–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –ø–æ—ç—Ç–æ–º—É SELECT –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.


---

–ü—Ä–∏–º–µ—Ä: Repeatable Read

1. TX1 —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:

BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SELECT * FROM orders WHERE id = 1;

–í–∏–¥–∏—Ç status = 'pending'.



2. TX2 –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–º–º–∏—Ç–∏—Ç:

UPDATE orders SET status = 'shipped' WHERE id = 1;
COMMIT;


3. TX1 —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç SELECT:

SELECT * FROM orders WHERE id = 1;

TX1 –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –≤–∏–¥–∏—Ç 'pending', –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—ë —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è.




üîπ Repeatable Read —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.


---

–ü—Ä–∏–º–µ—Ä: Serializable

1. –î–≤–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—ã—Ç–∞—é—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –±–∞–ª–∞–Ω—Å:

BEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE;
UPDATE accounts SET balance = balance - 50 WHERE id = 1;


2. –í–æ –≤—Ç–æ—Ä–æ–º —Å–µ–∞–Ω—Å–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π UPDATE:

BEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE;
UPDATE accounts SET balance = balance - 50 WHERE id = 1;


3. –û–¥–Ω–∞ –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è ROLLBACK, —Ç–∞–∫ –∫–∞–∫ –≤ Serializable –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã.



üîπ Serializable –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –≤–ª–∏—è—Ç—å –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –Ω–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –æ—Ç–∫–∞—Ç–∞–º (ROLLBACK).


---

–í—ã–≤–æ–¥

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ PostgreSQL —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –º–Ω–æ–≥–æ–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç–∏ (MVCC), –≥–¥–µ –∫–∞–∂–¥–æ–µ —á—Ç–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–Ω–∏–º–æ–∫ –¥–∞–Ω–Ω—ã—Ö.

UPDATE –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É –¥–æ COMMIT.

–£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:

Read Committed ‚Äì –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏.

Repeatable Read ‚Äì —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–Ω–∏–º–æ–∫ –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞—á–∞–ª–∞.

Serializable ‚Äì –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª—é–±—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.




---

–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–µ—Ä–µ—Å–∫–∞–∑? –í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞–∑–±–µ—Ä–µ–º –º–µ—Ö–∞–Ω–∏–∑–º –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (VACUUM) –∏ –±–æ—Ä—å–±—É —Å —Ä–∞–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü –≤ PostgreSQL.

 