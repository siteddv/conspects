# Глава 13. Динамические команды

## Содержание

- [[1. Введение]] [1. Введение](../полный/13. Динамические команды/1. Введение.md)
- [[2. Использование динамических команд]] [2. Использование динамических команд](../полный/13. Динамические команды/2. Использование динамических команд.md)
- [[3. Безопасность динамических команд]] [3. Безопасность динамических команд](../полный/13. Динамические команды/3. Безопасность динамических команд.md)
- [[4. Способы выполнения динамических команд]] [4. Способы выполнения динамических команд](../полный/13. Динамические команды/4. Способы выполнения динамических команд.md)
- [[5. Пример SQL-инъекции и защита от неё]] [5. Пример SQL-инъекции и защита от неё](../полный/13. Динамические команды/5. Пример SQL-инъекции и защита от неё.md)
- [[6. Формирование безопасных динамических команд]] [6. Формирование безопасных динамических команд](../полный/13. Динамические команды/6. Формирование безопасных динамических команд.md)
- [[7. Практические задания]] [7. Практические задания](../полный/13. Динамические команды/7. Практические задания.md)

---

## Введение в динамические SQL-команды

Динамические SQL-команды представляют собой мощный инструмент в реляционных базах данных, позволяющий создавать и выполнять SQL-запросы непосредственно во время выполнения программы. В отличие от статических запросов, которые жестко закодированы в приложении, динамические команды формируются "на лету" как строки, содержащие SQL-код, который затем компилируется и исполняется системой управления базами данных.

Основные сценарии использования динамических SQL-команд: гибкое изменение структуры запроса (динамически добавлять или удалять условия WHERE или операторы JOIN в зависимости от входных параметров), работа с неопределенными заранее таблицами и столбцами (когда имя таблицы или столбца передается как параметр), автоматическая генерация SQL-кода (особенно актуально для систем, где пользователи должны иметь возможность управлять логикой SQL-запросов) и формирование сложных аналитических отчетов.

## Безопасность динамических команд

Однако использование динамических SQL-команд связано с рядом существенных сложностей. Первостепенной проблемой является безопасность, поскольку динамический SQL особенно подвержен атакам типа SQL-инъекций. Если формирование запроса происходит через простую конкатенацию строк без должной обработки входных данных, злоумышленники могут внедрить вредоносный код.

Для защиты от SQL-инъекций необходимо использовать параметризованные запросы и функции форматирования, такие как `format()` с правильными спецификаторами (`%I` для идентификаторов, `%L` для литералов).

## Использование динамических команд

Производительность также представляет собой серьезную проблему. В отличие от подготовленных (prepared) запросов, динамические команды требуют парсинга и оптимизации каждый раз перед выполнением, что может привести к значительным накладным расходам при частом использовании.

**Подробнее:** [[13. Динамические команды]] [13. Динамические команды](../полный/13. Динамические команды/резюме.md)

