# Глава 10. Обзор и конструкции языка PLpgSQL

## Содержание

- [[1. Введение в язык PLpgSQL]] [1. Введение в язык PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/1. Введение в язык PLpgSQL.md)
- [[2. Блоки кода в PLpgSQL]] [2. Блоки кода в PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/2. Блоки кода в PLpgSQL.md)
- [[3. Объявление переменных и работа с типами данных]] [3. Объявление переменных и работа с типами данных](../полный/10. Обзор и конструкции языка PLpgSQL/3. Объявление переменных и работа с типами данных.md)
- [[4. Функции и процедуры в PLpgSQL]] [4. Функции и процедуры в PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/4. Функции и процедуры в PLpgSQL.md)
- [[5. Условные операторы в PLpgSQL]] [5. Условные операторы в PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/5. Условные операторы в PLpgSQL.md)
- [[6. Циклы в PLpgSQL]] [6. Циклы в PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/6. Циклы в PLpgSQL.md)
- [[7. Вычисления выражений в PLpgSQL]] [7. Вычисления выражений в PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/7. Вычисления выражений в PLpgSQL.md)
- [[8. Практические задания и кейсы]] [8. Практические задания и кейсы](../полный/10. Обзор и конструкции языка PLpgSQL/8. Практические задания и кейсы.md)

---

## Введение в язык PL/pgSQL

PL/pgSQL был создан в 1998 году с целью предоставления пользователям PostgreSQL возможности писать функции на более высокоуровневом языке, чем C. С версии 9.0 PL/pgSQL стал доступен по умолчанию.

Основная цель создания PL/pgSQL заключалась в том, чтобы предложить язык программирования, который будет проще, чем C, но достаточно мощным для выполнения сложных операций. Этот язык должен был поддерживать управляющие конструкции (такие как условные операторы и циклы), быть полностью совместимым с типами данных PostgreSQL и упростить работу с хранимыми процедурами и триггерами.

PL/pgSQL основан на языке PL/SQL от Oracle, что делает его синтаксис схожим с PL/SQL. Он использует структурные блоки, аналогичные тем, что можно найти в языках Ada и Pascal. Основное отличие между SQL и PL/pgSQL заключается в том, что SQL выполняет единичные запросы, тогда как PL/pgSQL расширяет возможности SQL, добавляя переменные, условия, циклы и обработку ошибок (`EXCEPTION`).

## Блоки кода в PL/pgSQL

Основной единицей кода в PL/pgSQL является блок. Каждый блок состоит из трех основных частей: секция объявления переменных (`DECLARE`), секция операторов (`BEGIN ... END`) и секция обработки исключений (`EXCEPTION`) (необязательная).

PL/pgSQL поддерживает анонимные блоки кода, которые можно запускать без создания функции. Используется оператор `DO`. Код не сохраняется в базе данных, выполняется разово.

## Условные операторы и циклы

PL/pgSQL поддерживает условные операторы (`IF`, `CASE`), различные типы циклов (`LOOP`, `WHILE`, `FOR`) и работу с массивами. Это позволяет создавать сложную логику обработки данных непосредственно в базе данных.

**Подробнее:** [[10. Обзор и конструкции языка PLpgSQL]] [10. Обзор и конструкции языка PLpgSQL](../полный/10. Обзор и конструкции языка PLpgSQL/резюме.md)

