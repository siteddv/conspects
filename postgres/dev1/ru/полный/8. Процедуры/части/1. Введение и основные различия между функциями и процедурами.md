### **–ü–µ—Ä–µ—Å–∫–∞–∑ 1-–π —á–∞—Å—Ç–∏: –í–≤–µ–¥–µ–Ω–∏–µ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º–∏**

---

### **1. –í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–µ–º—É**

–í –¥–∞–Ω–Ω–æ–π —á–∞—Å—Ç–∏ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è **–æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º–∏ –≤ PostgreSQL**, –∞ —Ç–∞–∫–∂–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è, –∑–∞—á–µ–º –≤–æ–æ–±—â–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª–∏—Å—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∏—Ö —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:

- –í **–ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–µ–º–∞—Ö** —Ä–µ—á—å —à–ª–∞ –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö –≤ PostgreSQL.
- –¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è **–ø—Ä–æ—Ü–µ–¥—É—Ä—ã**, –∏—Ö –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏.
- –¢–∞–∫–∂–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è **–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π** –∏ **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã –∏ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º, –∏ –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º.

---

### **2. –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π**

|–ö—Ä–∏—Ç–µ—Ä–∏–π|–§—É–Ω–∫—Ü–∏–∏|–ü—Ä–æ—Ü–µ–¥—É—Ä—ã|
|---|---|---|
|**–°–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞**|–í—ã–∑—ã–≤–∞—é—Ç—Å—è –≤ **–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `SELECT`)|–í—ã–∑—ã–≤–∞—é—Ç—Å—è **—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `CALL`**|
|**–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**|–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã **–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ** (–¥–∞–∂–µ `void`)|–ù–µ –æ–±—è–∑–∞–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–æ –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)|
|**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**|–ù–µ–ª—å–∑—è —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (`COMMIT` –∏ `ROLLBACK` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)|–ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ (`COMMIT`, `ROLLBACK`), –Ω–æ **–Ω–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö**|
|**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**|–ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–ª—è **–≤—ã—á–∏—Å–ª–µ–Ω–∏–π** –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π|–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î**, —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π|
|**–Ø–∑—ã–∫–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **PL/pgSQL, SQL, C –∏ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏**|–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —è–∑—ã–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, PL/pgSQL –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)|

---

### **3. –ó–∞—á–µ–º –ø–æ—è–≤–∏–ª–∏—Å—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ PostgreSQL?**

–ü—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ **PostgreSQL** –ø–æ—è–≤–∏–ª–∏—Å—å **—Ç–æ–ª—å–∫–æ –≤ –≤–µ—Ä—Å–∏–∏ 11** –∏ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –æ–¥–Ω–æ–π –≤–∞–∂–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã:  
**—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏ –ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º**.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç:  
‚úÖ –û—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è.  
‚úÖ –í—ã–ø–æ–ª–Ω—è—Ç—å `COMMIT` –∏ `ROLLBACK`.  
‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î.

–û–¥–Ω–∞–∫–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ **–Ω–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö** –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, —á—Ç–æ –±—É–¥–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –¥–∞–ª–µ–µ.

---

### **4. –ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞**

–ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```sql
CREATE PROCEDURE example_proc()
LANGUAGE SQL
AS $$
    TRUNCATE TABLE my_table;
    INSERT INTO my_table VALUES (generate_series(1,3));
$$;
```

- –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ **–Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç** –∑–Ω–∞—á–µ–Ω–∏—è.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **`CALL example_proc();`** –¥–ª—è –≤—ã–∑–æ–≤–∞.
- –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤**.

---

### **5. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é**

–ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–ø–æ—Ö–æ–∂—É—é –ª–æ–≥–∏–∫—É —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é**, –Ω–æ:

- –§—É–Ω–∫—Ü–∏—è **–Ω–µ –º–æ–∂–µ—Ç** —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ **–¥–æ–ª–∂–Ω–∞** —á—Ç–æ-—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å.
- –§—É–Ω–∫—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∫–∞–∫ —á–∞—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è**.

–ü—Ä–∏–º–µ—Ä:

```sql
CREATE FUNCTION example_func() RETURNS void
LANGUAGE SQL
AS $$
    TRUNCATE TABLE my_table;
    INSERT INTO my_table VALUES (generate_series(1,3));
$$;
```

–ù–æ **—Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Å–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å `TRUNCATE`**, –µ—Å–ª–∏ –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞ (`SELECT example_func();`), —Ç–∞–∫ –∫–∞–∫ **`TRUNCATE` –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î**.

---

### **–í—ã–≤–æ–¥—ã –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏**

- **–§—É–Ω–∫—Ü–∏–∏** –≤ PostgreSQL –≤—Å–µ–≥–¥–∞ **–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ** –∏ —Ä–∞–±–æ—Ç–∞—é—Ç **–≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**.
- **–ü—Ä–æ—Ü–µ–¥—É—Ä—ã** –Ω–µ –æ–±—è–∑–∞–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏ –º–æ–≥—É—Ç **—É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**, –Ω–æ **–Ω–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö**.
- –í—ã–∑–æ–≤ –ø—Ä–æ—Ü–µ–¥—É—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–æ–ø–µ—Ä–∞—Ç–æ—Ä `CALL`**, –∞ –Ω–µ –≤ —Å–æ—Å—Ç–∞–≤–µ `SELECT`.
- –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ—è–≤–∏–ª–∏—Å—å –≤ **PostgreSQL 11** –∏–º–µ–Ω–Ω–æ –∏–∑-–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≥–∏–±–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

---

–¢–µ–ø–µ—Ä—å —è –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **–≤—Ç–æ—Ä—É—é —á–∞—Å—Ç—å**, –≥–¥–µ –±—É–¥–µ—Ç —Ä–∞–∑–±–æ—Ä **—Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä** –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å? üöÄ

