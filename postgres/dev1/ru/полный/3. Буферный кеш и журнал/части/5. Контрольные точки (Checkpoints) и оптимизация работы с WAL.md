### üîπ **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (Checkpoints) –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å WAL**

---

#### üìå **–ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (Checkpoints)**

–ï—Å–ª–∏ –±—ã PostgreSQL **—Ö—Ä–∞–Ω–∏–ª –≤—Å–µ WAL-–∑–∞–ø–∏—Å–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞**, —ç—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –±—ã –∫ –æ–≥—Ä–æ–º–Ω–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ —Å–±–æ—è.

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (Checkpoints) —Ä–µ—à–∞—é—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É**:

1. **–§–∏–∫—Å–∏—Ä—É—é—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫**.
2. –ü–æ–∑–≤–æ–ª—è—é—Ç **—É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ WAL-–∑–∞–ø–∏—Å–∏**, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã.
3. –£–º–µ–Ω—å—à–∞—é—Ç –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è.

‚ö° **–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è**:  
üëâ –ü–æ—Å–ª–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ PostgreSQL –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ **–≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ —É–∂–µ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫**.

---

#### üìå **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏**

4. **–í—Å–µ –≥—Ä—è–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫**.
5. **–§–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤ WAL**.
6. –í—Å–µ WAL-–∑–∞–ø–∏—Å–∏ **–¥–æ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å**.
7. –ù–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ WAL –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏.

üí° **–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, PostgreSQL —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥–∏—Å–∫ –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–±–æ–µ.**

---

#### üìå **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫**

‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ**, –∞ —Ä–∞—Å—Ç—è–Ω—É—Ç—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –¥–∏—Å–∫).  
‚úÖ **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** –∏–ª–∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ **1 –ì–ë WAL-–ª–æ–≥–æ–≤**.  
‚úÖ **–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –≤ `postgresql.conf`:

- `checkpoint_timeout` ‚Äì –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **5 –º–∏–Ω—É—Ç**).
- `max_wal_size` ‚Äì –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä WAL-—Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **1 –ì–ë**).
- `checkpoint_completion_target` ‚Äì —Ä–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **0.5**, —Ç.–µ. 50% –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏).

üìå **–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —á–∞—Å—Ç—ã–º–∏ –∏ —Ä–µ–¥–∫–∏–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏**

- **–ß–∞—Å—Ç—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏** ‚Üí —É—Å–∫–æ—Ä—è—é—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, –Ω–æ —Å–æ–∑–¥–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥–∏—Å–∫.
- **–†–µ–¥–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏** ‚Üí —É–º–µ–Ω—å—à–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥–∏—Å–∫, –Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ—è.

üí° **–ò–¥–µ–∞–ª—å–Ω–æ ‚Äì –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –ë–î.**

---

#### üìå **–ö–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ —É–º–µ–Ω—å—à–∞—é—Ç –æ–±—ä–µ–º WAL**

üöÄ **–ü—Ä–∏–º–µ—Ä**

8. –ó–∞–ø—É—Å–∫–∞–µ–º PostgreSQL ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ WAL.
9. –ß–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ ‚Üí –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫.
10. –°—Ç–∞—Ä—ã–µ WAL-–∑–∞–ø–∏—Å–∏ **—É–¥–∞–ª—è—é—Ç—Å—è**.
11. –ü—Ä–∏ —Å–±–æ–µ PostgreSQL **–ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ WAL –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏**, –∞ –Ω–µ –≤—Å–µ WAL-–∑–∞–ø–∏—Å–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞.

---

üí° **–í—ã–≤–æ–¥**  
–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç PostgreSQL **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å WAL**, —Å–Ω–∏–∂–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥–∏—Å–∫ –∏ —É—Å–∫–æ—Ä—è—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –ø–æ—Å–ª–µ —Å–±–æ—è. –í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫–∏–µ —Ä–µ–∂–∏–º—ã –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –∫–∞–∫ –æ–Ω–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.

