### üîπ **–†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫**

---

#### üìå **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è vs –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å**

PostgreSQL –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫ **—Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏**, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.

**üìå –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å (Synchronous Commit)**

- –ü–æ—Å–ª–µ `COMMIT` PostgreSQL **–¥–æ–∂–∏–¥–∞–µ—Ç—Å—è** –∑–∞–ø–∏—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ WAL **–Ω–∞ –¥–∏—Å–∫** –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å** ‚Äì –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ–µ.
- **–ú–∏–Ω—É—Å**: —Å–Ω–∏–∂–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã, —Ç–∞–∫ –∫–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫ **–º–µ–¥–ª–µ–Ω–Ω–∞—è**.

**üìå –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å (Asynchronous Commit)**

- `COMMIT` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∞ –∑–∞–ø–∏—Å—å –≤ WAL –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **—Ñ–æ–Ω–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º**.
- –£—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ **–µ—Å—Ç—å —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏ —Å–±–æ–µ (–µ—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—ã–ª–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞, –Ω–æ WAL –µ—â—ë –Ω–µ –∑–∞–ø–∏—Å–∞–Ω –Ω–∞ –¥–∏—Å–∫).
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–º–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**.

üí° **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º** `synchronous_commit`

- `on` ‚Äì –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å (–Ω–∞–¥—ë–∂–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ).
- `off` ‚Äì –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å (–±—ã—Å—Ç—Ä–æ, –Ω–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö).
- `local` ‚Äì —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ WAL (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è).

---

#### üìå **–ö–∞–∫ PostgreSQL —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –¥–∏—Å–∫–æ–º**

–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏, –ø–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ PostgreSQL –ø–∏—à–µ—Ç –¥–∞–Ω–Ω—ã–µ, –æ–Ω–∏ –º–æ–≥—É—Ç **–Ω–µ —Å—Ä–∞–∑—É –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –¥–∏—Å–∫**.

**‚öô –ß—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å, PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã–∑–æ–≤—ã –û–°:**

1. **`fsync`** ‚Äì –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ WAL –Ω–∞ –¥–∏—Å–∫.
2. **`fdatasync`** ‚Äì –ø–æ—Ö–æ–∂ –Ω–∞ `fsync`, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –¥–∞–Ω–Ω—ã–º–∏ (–±–µ–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö).
3. **`open_sync` / `open_datasync`** ‚Äì —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–∂–∏–º—ã –∑–∞–ø–∏—Å–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –û–°.

üí° **–í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å:**

- `fsync=off` ‚Äì **–º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏ —Å–±–æ–µ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ.
- `fsync=on` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äì **–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ**, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

---

#### üìå **–í–ª–∏—è–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å**

üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤:**

|–†–µ–∂–∏–º|–°–∫–æ—Ä–æ—Å—Ç—å|–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è|
|---|---|---|---|
|`fsync=on` + `synchronous_commit=on`|–ú–µ–¥–ª–µ–Ω–Ω–æ|üîí –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è|–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–∞–Ω–∫–∏–Ω–≥, —Ñ–∏–Ω–∞–Ω—Å—ã)|
|`fsync=on` + `synchronous_commit=off`|–°—Ä–µ–¥–Ω–µ|‚ö† –í–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π|–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ OLTP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π|
|`fsync=off` + `synchronous_commit=off`|–ë—ã—Å—Ç—Ä–æ|‚ùå –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Ç–µ—Ä—è—Ç—å—Å—è|–í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–∫–µ—à–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)|

üí° **–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –∑–∞–ø–∏—Å–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**.

- –ï—Å–ª–∏ –≤–∞–∂–Ω–∞ **—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí **–≤–∫–ª—é—á–∞–µ–º `fsync` –∏ `synchronous_commit`**.
- –ï—Å–ª–∏ –≤–∞–∂–Ω–∞ **—Å–∫–æ—Ä–æ—Å—Ç—å** (–∏ –º–æ–∂–Ω–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —á–∞—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö) ‚Üí **–æ—Ç–∫–ª—é—á–∞–µ–º `synchronous_commit`**.
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ **–º–æ–∂–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å –ø—Ä–∏ —Å–±–æ–µ** ‚Üí –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å `fsync`, –Ω–æ —ç—Ç–æ –∫—Ä–∞–π–Ω–µ —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ.

---

üí° **–í—ã–≤–æ–¥**  
PostgreSQL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–µ–∂–∏–º–æ–≤ –∑–∞–ø–∏—Å–∏, –ø–æ–∑–≤–æ–ª—è—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É **—Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö**. –í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ —Ä–∞–∑–±–µ—Ä—ë–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ WAL ‚Äì —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ.