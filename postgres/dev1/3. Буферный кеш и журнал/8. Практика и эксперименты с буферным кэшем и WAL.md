### üîπ **–ü—Ä–∞–∫—Ç–∏–∫–∞ –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –±—É—Ñ–µ—Ä–Ω—ã–º –∫—ç—à–µ–º –∏ WAL**

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∞ —Ç–∞–∫–∂–µ –∏–∑—É—á–∏–º —Ä–∞–±–æ—Ç—É —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ –Ω–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏.

---

### üìå **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –í–ª–∏—è–Ω–∏–µ –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∞ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤**

#### üîπ **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç—É**

1. **–°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
    
    ```sql
    CREATE DATABASE test_db;
    \c test_db;
    ```
    
2. **–°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É –∏ –Ω–∞–ø–æ–ª–Ω—è–µ–º –µ—ë –¥–∞–Ω–Ω—ã–º–∏**
    
    ```sql
    CREATE TABLE fruits (id SERIAL PRIMARY KEY, name TEXT);
    INSERT INTO fruits (name) SELECT 'apple' FROM generate_series(1, 100000);
    ```
    
3. **–û—á–∏—â–∞–µ–º –±—É—Ñ–µ—Ä–Ω—ã–π –∫—ç—à (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º PostgreSQL)**
    
    ```bash
    pg_ctl restart
    ```
    

#### üîπ **–¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞**

4. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –∫—ç—à–∞)**
    
    ```sql
    EXPLAIN (ANALYZE, BUFFERS) SELECT * FROM fruits;
    ```
    
    - –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å –¥–∏—Å–∫–∞**.
    - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è **–¥–æ–ª—å—à–µ**, —Ç–∞–∫ –∫–∞–∫ PostgreSQL —á–∏—Ç–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –¥–∏—Å–∫–∞.
5. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Å –∫—ç—à–µ–º)**
    
    ```sql
    EXPLAIN (ANALYZE, BUFFERS) SELECT * FROM fruits;
    ```
    
    - –¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ **–±—É—Ñ–µ—Ä–Ω—ã–π –∫—ç—à**.
    - –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ**.

üí° **–í—ã–≤–æ–¥:**  
–ë—É—Ñ–µ—Ä–Ω—ã–π –∫—ç—à —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞ —Å—á—ë—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –¥–∏—Å–∫—É.

---

### üìå **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –†–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏**

#### üîπ **–ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã?**

–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (`TEMP TABLE`) —Ö—Ä–∞–Ω—è—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏**.

- –û–Ω–∏ **–Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ WAL**, –ø–æ—ç—Ç–æ–º—É –∏—Ö –¥–∞–Ω–Ω—ã–µ **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ–µ**.
- –†–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ, —Ç–∞–∫ –∫–∞–∫ **–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ñ–∏–∫—Å–∞—Ü–∏–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ –ø—Ä–µ–¥–∑–∞–ø–∏—Å–∏**.

#### üîπ **–°–æ–∑–¥–∞—ë–º –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É**

```sql
CREATE TEMP TABLE temp_fruits (id SERIAL PRIMARY KEY, name TEXT);
INSERT INTO temp_fruits (name) SELECT 'banana' FROM generate_series(1, 100000);
```

#### üîπ **–¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã**

```sql
SELECT COUNT(*) FROM temp_fruits;
```

- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ **–¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏**.
- –ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –±–∞–∑—ã **–¥–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–Ω—É—Ç**.

üí° **–í—ã–≤–æ–¥:**  
‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —É–¥–æ–±–Ω—ã –¥–ª—è **–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤**.  
‚ùå –ò—Ö –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

### üìå **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –ù–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã**

#### üîπ **–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã?**

–ù–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—ã–µ (`UNLOGGED`) —Ç–∞–±–ª–∏—Ü—ã **–Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ WAL** –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ:

- –û–Ω–∏ **—Ç–µ—Ä—è—é—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–±–æ–µ**.
- –ò—Ö –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ **—Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏**.

#### üîπ **–°–æ–∑–¥–∞—ë–º –Ω–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—É—é —Ç–∞–±–ª–∏—Ü—É**

```sql
CREATE UNLOGGED TABLE fast_fruits (id SERIAL PRIMARY KEY, name TEXT);
INSERT INTO fast_fruits (name) SELECT 'grape' FROM generate_series(1, 100000);
```

#### üîπ **–¢–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

```sql
EXPLAIN (ANALYZE) SELECT COUNT(*) FROM fast_fruits;
```

- –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —Ç–∞–∫ –∫–∞–∫ **–Ω–µ—Ç –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –∑–∞–ø–∏—Å—å –≤ WAL**.

üí° **–í—ã–≤–æ–¥:**  
‚úÖ `UNLOGGED` —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ.  
‚ùå –û–Ω–∏ **–Ω–µ –∑–∞—â–∏—â–µ–Ω—ã** –æ—Ç —Å–±–æ–µ–≤ –∏ **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é**.

---

### üìå **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 4: –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ —Å–±–æ—è—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

#### üîπ **–ò–º–∏—Ç–∞—Ü–∏—è —Å–±–æ—è PostgreSQL**

6. **–î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É**
    
    ```sql
    INSERT INTO fruits (name) VALUES ('mango');
    ```
    
7. **–í—ã–∫–ª—é—á–∞–µ–º PostgreSQL –∞–≤–∞—Ä–∏–π–Ω–æ**
    
    ```bash
    pg_ctl stop -m immediate
    ```
    
8. **–ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä —Å–Ω–æ–≤–∞**
    
    ```bash
    pg_ctl start
    ```
    

#### üîπ **–ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –ª–∏ –¥–∞–Ω–Ω—ã–µ**

```sql
SELECT * FROM fruits WHERE name = 'mango';
```

- –ï—Å–ª–∏ WAL **—É—Å–ø–µ–ª –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫** ‚Üí —Å—Ç—Ä–æ–∫–∞ –µ—Å—Ç—å.
- –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è **–Ω–µ –±—ã–ª–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤ WAL** ‚Üí —Å—Ç—Ä–æ–∫–∞ –ø–æ—Ç–µ—Ä—è–Ω–∞.

üí° **–í—ã–≤–æ–¥:**  
PostgreSQL **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**, –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ WAL.

---

### üîπ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏:  
‚úÖ –ö–∞–∫ –±—É—Ñ–µ—Ä–Ω—ã–π –∫—ç—à —É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.  
‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ (`TEMP`) –∏ –Ω–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—ã–µ (`UNLOGGED`) —Ç–∞–±–ª–∏—Ü—ã.  
‚úÖ –ö–∞–∫ PostgreSQL –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å–±–æ—è.

‚ö° **–ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥**:

- **–ë—É—Ñ–µ—Ä–Ω—ã–π –∫—ç—à** —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É —Å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
- **–ñ—É—Ä–Ω–∞–ª WAL** –∑–∞—â–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–∏—Å—Ç–µ–º—É.
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –Ω–µ –∂—É—Ä–Ω–∞–ª–∏—Ä—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã** –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

üîπ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, PostgreSQL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–≥–∏–±–∫–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö**, –ø–æ–∑–≤–æ–ª—è—è –Ω–∞—Ö–æ–¥–∏—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å—é. üöÄ