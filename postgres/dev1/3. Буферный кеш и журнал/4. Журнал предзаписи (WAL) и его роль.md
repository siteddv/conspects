### üîπ **–ñ—É—Ä–Ω–∞–ª –ø—Ä–µ–¥–∑–∞–ø–∏—Å–∏ (WAL) –∏ –µ–≥–æ —Ä–æ–ª—å**

---

#### üìå **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –∂—É—Ä–Ω–∞–ª –ø—Ä–µ–¥–∑–∞–ø–∏—Å–∏ (WAL - Write-Ahead Logging)**

–ë—É—Ñ–µ—Ä–Ω—ã–π –∫—ç—à PostgreSQL —É—Å–∫–æ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–±–ª–µ–º—É:

- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≥—Ä—è–∑–Ω—ã–µ)** –≤ –∫—ç—à–µ –º–æ–≥—É—Ç –±—ã—Ç—å **–Ω–µ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫**.
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Å–±–æ–π (–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è, –∞–≤–∞—Ä–∏–π–Ω—ã–π —Å–±–æ–π –û–°), **–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã**.

–ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∂—É—Ä–Ω–∞–ª –ø—Ä–µ–¥–∑–∞–ø–∏—Å–∏ (WAL)**:

1. **–ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ –±—É—Ñ–µ—Ä–Ω–æ–º –∫—ç—à–µ** –∑–∞–ø–∏—Å—å —Å–Ω–∞—á–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ WAL.
2. **–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤ –∫—ç—à–µ**.
3. **–ü—Ä–∏ —Å–±–æ–µ —Å–µ—Ä–≤–µ—Ä –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—è WAL**.

‚ö° **–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è**:  
üëâ WAL **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è**, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ —É–ø–∞–¥—ë—Ç.

---

#### üìå **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã WAL**

WAL –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç **–Ω–µ —Å–∞–º–∏ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞ —Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏**, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

üìå **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

4. –ó–∞–ø—Ä–æ—Å `UPDATE users SET balance = balance + 100 WHERE id = 1;`
5. PostgreSQL —Å–æ–∑–¥–∞—ë—Ç **WAL-–∑–∞–ø–∏—Å—å**:
    
    ```
    UPDATE users SET balance = balance + 100 WHERE id = 1;
    ```
    
6. –ó–∞–ø–∏—Å—å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ WAL –∏ **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫**.
7. –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä–Ω–æ–º –∫—ç—à–µ (–Ω–æ –µ—â—ë –Ω–µ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫!).
8. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–¥—ë—Ç, PostgreSQL **–ø—Ä–æ–∏–≥—Ä–∞–µ—Ç WAL-–∑–∞–ø–∏—Å–∏** –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ.

---

#### üìå **–ü—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–±–æ—è**

9. –ü–æ—Å–ª–µ —Å–±–æ—è —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —á–∏—Ç–∞–µ—Ç WAL.
10. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ –Ω–µ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫.
11. –ü–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏—Ö –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
12. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î.

üí° **–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, WAL –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î –ø–æ—Å–ª–µ —Å–±–æ–µ–≤.**

---

#### üìå **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ WAL —Å –±—É—Ñ–µ—Ä–Ω—ã–º –∫—ç—à–µ–º**

- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≥—Ä—è–∑–Ω—ã–µ) –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∫—ç—à–µ** –¥–æ –∏—Ö –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫.
- WAL **–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –Ω–∞ –¥–∏—Å–∫**.
- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (checkpoint) –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ **—Å–±—Ä–∞—Å—ã–≤–∞—é—Ç –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –¥–∏—Å–∫**, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å—Ç–∞—Ä—ã–µ WAL-–∑–∞–ø–∏—Å–∏ –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å.

---

üí° **–í—ã–≤–æ–¥:**  
–ñ—É—Ä–Ω–∞–ª –ø—Ä–µ–¥–∑–∞–ø–∏—Å–∏ (WAL) –∏–≥—Ä–∞–µ—Ç –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å –≤ –∑–∞—â–∏—Ç–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø–æ—Ç–µ—Ä–∏ –∏ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É –ë–î. –í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (Checkpoints) –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ WAL –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.