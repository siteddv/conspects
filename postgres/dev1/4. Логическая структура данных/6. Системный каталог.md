### üìå **–ü–æ–¥—Ä–æ–±–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç ‚Äì –ß–∞—Å—Ç—å 6: –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ PostgreSQL (`pg_catalog`)**

–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ PostgreSQL (`pg_catalog`) ‚Äî —ç—Ç–æ **–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞**, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** –æ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

#### üîπ **–ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `pg_catalog`?**

- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö** (`pg_database`).
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ö–µ–º–∞—Ö** (`pg_namespace`).
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–±–ª–∏—Ü–∞—Ö, –∏–Ω–¥–µ–∫—Å–∞—Ö, —Ñ—É–Ω–∫—Ü–∏—è—Ö, —Ç—Ä–∏–≥–≥–µ—Ä–∞—Ö** (`pg_class`, `pg_index`, `pg_proc`, `pg_trigger`).
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

üìå **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `pg_catalog`:**

- –ü–æ–∑–≤–æ–ª—è–µ—Ç **–ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±–∞–∑—ã**.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω–∞ –≤ `search_path`**, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Ç–∞–±–ª–∏—Ü–∞–º –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è `pg_catalog.`.

---

## üîπ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞**

### ‚úÖ **1. `pg_database` ‚Äì —Å–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö**

üìå **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ `\l` –≤ `psql`)**:

```sql
SELECT datname, datdba, encoding, datcollate, datctype FROM pg_database;
```

**–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:**

- `datname` ‚Äì –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- `datdba` ‚Äì –≤–ª–∞–¥–µ–ª–µ—Ü (ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).
- `encoding` ‚Äì –∫–æ–¥–∏—Ä–æ–≤–∫–∞.
- `datcollate` ‚Äì –ø—Ä–∞–≤–∏–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.
- `datctype` ‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞–ª–∏.

üìå **–í—ã–≤–µ—Å—Ç–∏ –∏–º—è —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã:**

```sql
SELECT current_database();
```

---

### ‚úÖ **2. `pg_namespace` ‚Äì —Å–ø–∏—Å–æ–∫ —Å—Ö–µ–º**

üìå **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å—Ö–µ–º –≤ —Ç–µ–∫—É—â–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ `\dn`)**:

```sql
SELECT nspname FROM pg_namespace;
```

üìå **–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ö–µ–º—ã (–∏—Å–∫–ª—é—á–∞—è `pg_catalog` –∏ `information_schema`)**:

```sql
SELECT nspname FROM pg_namespace 
WHERE nspname NOT LIKE 'pg_%' AND nspname != 'information_schema';
```

---

### ‚úÖ **3. `pg_class` ‚Äì –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–±–ª–∏—Ü–∞—Ö, –∏–Ω–¥–µ–∫—Å–∞—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö**

- –í —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ —Ö—Ä–∞–Ω—è—Ç—Å—è **–≤—Å–µ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
    - –¢–∞–±–ª–∏—Ü—ã.
    - –ò–Ω–¥–µ–∫—Å—ã.
    - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
    - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

üìå **–í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü (`\dt`)**:

```sql
SELECT relname FROM pg_class WHERE relkind = 'r';
```

üìå **–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:**

- `relname` ‚Äì –∏–º—è –æ–±—ä–µ–∫—Ç–∞.
- `relkind` ‚Äì —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞:
    - `'r'` ‚Äì —Ç–∞–±–ª–∏—Ü–∞ (relation).
    - `'i'` ‚Äì –∏–Ω–¥–µ–∫—Å.
    - `'S'` ‚Äì –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
    - `'v'` ‚Äì –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (view).
- `relnamespace` ‚Äì ID —Å—Ö–µ–º—ã (–Ω—É–∂–Ω–æ —Å–æ–µ–¥–∏–Ω—è—Ç—å —Å `pg_namespace`).

üìå **–í—ã–≤–µ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã –∏ –∏—Ö —Å—Ö–µ–º—ã**:

```sql
SELECT nspname AS schema, relname AS table 
FROM pg_class 
JOIN pg_namespace ON pg_class.relnamespace = pg_namespace.oid 
WHERE relkind = 'r';
```

---

### ‚úÖ **4. `pg_attribute` ‚Äì –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–æ–ª–±—Ü–∞—Ö —Ç–∞–±–ª–∏—Ü**

üìå **–í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ã `users`**:

```sql
SELECT attname, atttypid::regtype, attnotnull 
FROM pg_attribute 
WHERE attrelid = 'users'::regclass AND attnum > 0;
```

üìå **–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:**

- `attname` ‚Äì –∏–º—è –∫–æ–ª–æ–Ω–∫–∏.
- `atttypid` ‚Äì —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (`int`, `text`, `timestamp` –∏ —Ç. –¥.).
- `attnotnull` ‚Äì —Ñ–ª–∞–≥ `NOT NULL`.

---

### ‚úÖ **5. `pg_proc` ‚Äì —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π**

üìå **–í—ã–≤–µ—Å—Ç–∏ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±–∞–∑–µ (`\df`)**:

```sql
SELECT proname, proargtypes::regtype[], prorettype::regtype
FROM pg_proc
WHERE pronamespace = 'public'::regnamespace;
```

üìå **–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:**

- `proname` ‚Äì –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏.
- `proargtypes` ‚Äì —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
- `prorettype` ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø.

---

### ‚úÖ **6. `pg_index` ‚Äì –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω–¥–µ–∫—Å–∞—Ö**

üìå **–í—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã (`\di`)**:

```sql
SELECT indexrelid::regclass, indrelid::regclass, indisunique, indisprimary 
FROM pg_index;
```

üìå **–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:**

- `indexrelid` ‚Äì –∏–º—è –∏–Ω–¥–µ–∫—Å–∞.
- `indrelid` ‚Äì –∏–º—è —Ç–∞–±–ª–∏—Ü—ã.
- `indisunique` ‚Äì —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (`true/false`).
- `indisprimary` ‚Äì –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (`true/false`).

---

### ‚úÖ **7. `pg_statistic` ‚Äì —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤**

üìå **–í—ã–≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ —Ç–∞–±–ª–∏—Ü–µ `users`**:

```sql
SELECT * FROM pg_statistic WHERE starelid = 'users'::regclass;
```

üìå **–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:**

- `starelid` ‚Äì ID —Ç–∞–±–ª–∏—Ü—ã.
- `stanullfrac` ‚Äì –¥–æ–ª—è `NULL` –∑–Ω–∞—á–µ–Ω–∏–π.
- `stawidth` ‚Äì —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è –≤ –±–∞–π—Ç–∞—Ö.

üìå **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—Ä—É—á–Ω—É—é –Ω–µ –Ω—É–∂–Ω–æ** ‚Äì –¥–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –∫–æ–º–∞–Ω–¥–∞:

```sql
ANALYZE;
```

---

## üîπ **–ö–∞–∫ —É–∑–Ω–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥–∞ `\d`, `\dt`, `\l`?**

–ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å `ECHO_HIDDEN` –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è.

üìå **–í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫—Ä—ã—Ç—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤:**

```sh
\set ECHO_HIDDEN on
```

–¢–µ–ø–µ—Ä—å PostgreSQL –±—É–¥–µ—Ç **–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã**, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥ `\dt`, `\l` –∏ —Ç. –¥.

üìå **–ü—Ä–∏–º–µ—Ä:**

```sh
\dt
```

–í—ã–≤–µ–¥–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ç–∞–±–ª–∏—Ü.

---

## üîπ **–¢–∏–ø—ã `reg*` –≤ PostgreSQL (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä)**

–ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ (`oid`), PostgreSQL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:

|**–¢–∏–ø**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
|---|---|
|`regclass`|–ò–º—è —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –∏–Ω–¥–µ–∫—Å–∞|
|`regnamespace`|–ò–º—è —Å—Ö–µ–º—ã|
|`regproc`|–ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏|
|`regrole`|–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|
|`regtype`|–ò–º—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö|

üìå **–ü—Ä–∏–º–µ—Ä:**

```sql
SELECT 'users'::regclass;
```

–í—ã–≤–µ–¥–µ—Ç **OID** —Ç–∞–±–ª–∏—Ü—ã `users`, —á—Ç–æ —É–¥–æ–±–Ω–µ–µ, —á–µ–º –∏—Å–∫–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é –≤ `pg_class`.

üìå **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `regclass` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö:**

```sql
SELECT relname, relnamespace::regnamespace 
FROM pg_class 
WHERE relname = 'users';
```

---

## üîπ **–ò—Ç–æ–≥**

|**–¢–∞–±–ª–∏—Ü–∞**|**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**|
|---|---|
|`pg_database`|–°–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö|
|`pg_namespace`|–°–ø–∏—Å–æ–∫ —Å—Ö–µ–º|
|`pg_class`|–¢–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è|
|`pg_attribute`|–°—Ç–æ–ª–±—Ü—ã —Ç–∞–±–ª–∏—Ü|
|`pg_proc`|–°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π|
|`pg_index`|–ò–Ω–¥–µ–∫—Å—ã|
|`pg_statistic`|–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤|

üí° **–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ `pg_catalog` ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.**

‚úÖ **–î–∞–ª–µ–µ: –ß–∞—Å—Ç—å 7 ‚Äì –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Å—Ö–µ–º –≤ PostgreSQL**. –ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å? üöÄ