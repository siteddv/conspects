### üìå **–ü–æ–¥—Ä–æ–±–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç ‚Äì –ß–∞—Å—Ç—å 7: –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Å—Ö–µ–º –≤ PostgreSQL**

–£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ PostgreSQL **–∏–º–µ–µ—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:

- **–ü—Ä—è–º–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ**, –µ—Å–ª–∏ —É –æ–±—ä–µ–∫—Ç–∞ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å **—Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º** (`CASCADE`).
- –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å **–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏**.

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ö–µ–º (`DROP SCHEMA`)**

–°—Ö–µ–º–∞ ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü, —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ç. –¥.).

üìå **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (–µ—Å–ª–∏ –æ–Ω–∞ –ø—É—Å—Ç–∞—è):**

```sql
DROP SCHEMA my_schema;
```

‚ùå **–û—à–∏–±–∫–∞, –µ—Å–ª–∏ –≤ —Å—Ö–µ–º–µ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã**:

```
ERROR: cannot drop schema my_schema because other objects depend on it
```

üìå **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã —Å–æ –≤—Å–µ–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ (`CASCADE`)**:

```sql
DROP SCHEMA my_schema CASCADE;
```

- –£–¥–∞–ª—è–µ—Ç **–≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** –≤ —Å—Ö–µ–º–µ.
- **–ù–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ!** ‚ö†Ô∏è

üìå **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã –±–µ–∑ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (`RESTRICT`)**:

```sql
DROP SCHEMA my_schema RESTRICT;
```

- –£–¥–∞–ª–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å—Ö–µ–º–∞ –ø—É—Å—Ç–∞—è**.

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (`DROP TABLE`)**

üìå **–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É, –µ—Å–ª–∏ –Ω–∞ –Ω–µ—ë –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:

```sql
DROP TABLE users;
```

üìå **–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (`CASCADE`)**:

```sql
DROP TABLE users CASCADE;
```

- –£–¥–∞–ª–∏—Ç **–≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏, –∏–Ω–¥–µ–∫—Å—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç `users`.

üìå **–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É, –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`IF EXISTS`)**:

```sql
DROP TABLE IF EXISTS users;
```

- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç, **–æ—à–∏–±–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–∞**.

üìå **–£–¥–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü —Å—Ä–∞–∑—É**:

```sql
DROP TABLE orders, payments CASCADE;
```

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`DROP DATABASE`)**

üìå **–£–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**:

```sql
DROP DATABASE my_database;
```

‚ùå **–û—à–∏–±–∫–∞, –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:

```
ERROR: database "my_database" is being accessed by other users
```

üìå **–ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥—É—é –±–∞–∑—É:**

```sql
\c postgres
DROP DATABASE my_database;
```

üí° **–°–æ–≤–µ—Ç:** PostgreSQL **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `CASCADE` –¥–ª—è `DROP DATABASE`**.

üìå **–£–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**:

```sql
DROP DATABASE IF EXISTS my_database;
```

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`DROP ROLE`)**

üìå **–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É –Ω–µ–≥–æ –Ω–µ—Ç –æ–±—ä–µ–∫—Ç–æ–≤)**:

```sql
DROP ROLE my_user;
```

üìå **–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—Å–µ—Ö –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`CASCADE`)**:

```sql
DROP ROLE my_user CASCADE;
```

üìå **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ–±—ä–µ–∫—Ç–æ–≤, –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏—Ö –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**:

```sql
ALTER TABLE orders OWNER TO new_user;
DROP ROLE my_user;
```

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (`DROP FUNCTION`)**

üìå **–£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –µ—Å–ª–∏ –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:

```sql
DROP FUNCTION my_function(integer);
```

üìå **–£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∞ –Ω–µ—ë —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã (`CASCADE`)**:

```sql
DROP FUNCTION my_function(integer) CASCADE;
```

üìå **–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º**:

```sql
DROP FUNCTION my_function CASCADE;
```

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (`DROP VIEW`)**

üìå **–£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (view)**:

```sql
DROP VIEW my_view;
```

üìå **–£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏**:

```sql
DROP VIEW my_view CASCADE;
```

---

## üîπ **–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π (`DROP SEQUENCE`)**

üìå **–£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ID)**:

```sql
DROP SEQUENCE my_sequence;
```

üìå **–£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –∫–∞—Å–∫–∞–¥–æ–º**:

```sql
DROP SEQUENCE my_sequence CASCADE;
```

---

## üîπ **–ö–∞–∫ –Ω–∞–π—Ç–∏ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Å—Ö–µ–º–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º?**

üìå **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –µ—Å—Ç—å –≤ —Å—Ö–µ–º–µ:**

```sql
SELECT nspname, relname, relkind
FROM pg_class 
JOIN pg_namespace ON pg_class.relnamespace = pg_namespace.oid
WHERE nspname = 'my_schema';
```

üìå **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º:**

```sql
SELECT * FROM pg_depend WHERE refobjid = 'users'::regclass;
```

üìå **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ç–∞–±–ª–∏—Ü–µ–π:**

```sql
SELECT conname, conrelid::regclass, confrelid::regclass 
FROM pg_constraint 
WHERE contype = 'f' AND confrelid = 'users'::regclass;
```

---

## üîπ **–ò—Ç–æ–≥**

|**–î–µ–π—Å—Ç–≤–∏–µ**|**–ö–æ–º–∞–Ω–¥–∞**|
|---|---|
|–£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É|`DROP SCHEMA my_schema;`|
|–£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É —Å –∫–∞—Å–∫–∞–¥–æ–º|`DROP SCHEMA my_schema CASCADE;`|
|–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É|`DROP TABLE users;`|
|–£–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏|`DROP TABLE users CASCADE;`|
|–£–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö|`DROP DATABASE my_database;`|
|–£–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π|`\c postgres; DROP DATABASE my_database;`|
|–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|`DROP ROLE my_user;`|
|–£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é|`DROP FUNCTION my_function(integer);`|
|–£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ|`DROP VIEW my_view;`|
|–£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å|`DROP SEQUENCE my_sequence;`|
