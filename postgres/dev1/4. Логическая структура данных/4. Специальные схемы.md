### üìå **–ü–æ–¥—Ä–æ–±–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç ‚Äì –ß–∞—Å—Ç—å 4: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã –≤ PostgreSQL**

–í PostgreSQL –µ—Å—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å—Ö–µ–º**, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è **—Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö SQL-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**.

---

## üîπ **1. `public` ‚Äì —Å—Ö–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

- –°–æ–∑–¥–∞—ë—Ç—Å—è **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–∞–∂–¥–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**.
- –ï—Å–ª–∏ **–Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ö–µ–º—É** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–±–ª–∏—Ü), –æ–Ω–∏ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ `public`.
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ `public`.

üìå **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å—Ö–µ–º—ã `public`**:

```sh
\dn
```

üìå **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ `public` (—á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è —Å—Ö–µ–º—ã)**:

```sql
REVOKE CREATE ON SCHEMA public FROM PUBLIC;
```

üìå **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã `public` (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ)**:

```sql
DROP SCHEMA public CASCADE;
```

üí° **–°–æ–≤–µ—Ç**: –µ—Å–ª–∏ `public` –Ω–µ –Ω—É–∂–Ω–∞, –ª—É—á—à–µ –ø—Ä–æ—Å—Ç–æ **–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø—Ä–∞–≤–∞**, —á–µ–º —É–¥–∞–ª—è—Ç—å.

---

## üîπ **2. `pg_catalog` ‚Äì —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ PostgreSQL**

- **–ì–ª–∞–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–Ω–∞—è —Å—Ö–µ–º–∞**, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è:
    - –°–ª—É–∂–µ–±–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (—Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥).
    - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –±–∞–∑–µ (`pg_class`, `pg_namespace` –∏ –¥—Ä.).
    - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ SQL-—Ñ—É–Ω–∫—Ü–∏–∏.
    - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.

üìå **–ü—Ä–∏–º–µ—Ä: –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥**:

```sql
SELECT * FROM pg_class WHERE relkind = 'r';
```

üìå **–ö–∞–∫ `pg_catalog` –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–æ–≤?**

- –í–∫–ª—é—á–µ–Ω–∞ –≤ `search_path` **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç **–æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ç–∞–±–ª–∏—Ü–∞–º –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Å—Ö–µ–º—ã**.
- –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã:
    
    ```sql
    SELECT * FROM pg_class;
    SELECT * FROM pg_catalog.pg_class;
    ```
    

üí° **–í–∞–∂–Ω–æ**: **–Ω–µ –∏–∑–º–µ–Ω—è–π—Ç–µ** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `pg_catalog`, –∏–Ω–∞—á–µ –º–æ–∂–Ω–æ –Ω–∞—Ä—É—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–∞–∑—ã.

---

## üîπ **3. `information_schema` ‚Äì —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SQL-–∫–∞—Ç–∞–ª–æ–≥**

- –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Ç–∞–±–ª–∏—Ü–∞—Ö, —Å—Ö–µ–º–∞—Ö, –∫–æ–ª–æ–Ω–∫–∞—Ö –∏ —Ç. –¥.
- –ü–æ–ª–Ω–æ—Å—Ç—å—é **—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É SQL** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `pg_catalog`).
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `pg_catalog`, –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç PostgreSQL-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

üìå **–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å `information_schema`**:

```sql
SELECT table_name FROM information_schema.tables WHERE table_schema = 'public';
```

```sql
SELECT column_name, data_type FROM information_schema.columns WHERE table_name = 'users';
```

üìå **–ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ —Å `pg_catalog`**:

- `pg_catalog` –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫–æ **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –¥–∞–Ω–Ω—ã–º** PostgreSQL.
- `information_schema` **—É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω** –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î.

---

## üîπ **4. `pg_temp` ‚Äì —Å—Ö–µ–º–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü** (`TEMP TABLE`).
- **–°–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –≤ –∫–∞–∂–¥–æ–º —Å–µ–∞–Ω—Å–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
- **–£–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ–∞–Ω—Å–∞**.

üìå **–°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã (–æ–Ω–∞ –ø–æ–ø–∞–¥—ë—Ç –≤ `pg_temp`)**:

```sql
CREATE TEMP TABLE temp_users (id SERIAL, name TEXT);
```

üìå **–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ**:

```sql
SELECT * FROM pg_temp.temp_users;
```

üí° **–í–∞–∂–Ω–æ**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã **—É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∞–Ω—Å–∞** –∏ **–Ω–µ–≤–∏–¥–∏–º—ã** –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üîπ **5. –î—Ä—É–≥–∏–µ —Å–ª—É–∂–µ–±–Ω—ã–µ —Å—Ö–µ–º—ã**

–í PostgreSQL –µ—Å—Ç—å **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã**, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –Ω—É–∂–¥:

### ‚úÖ `pg_toast`

- –°–æ–¥–µ—Ä–∂–∏—Ç **"—Ä–∞–∑–¥—É—Ç—ã–µ" –¥–∞–Ω–Ω—ã–µ** (TOAST ‚Äì The Oversized-Attribute Storage Technique).
- PostgreSQL **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —Ö—Ä–∞–Ω–∏—Ç –≤ –Ω–µ–π –¥–ª–∏–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (`TEXT`, `BYTEA`, `JSONB`).
- **–û–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å `pg_toast`**.

üìå **–ü—Ä–∏–º–µ—Ä: –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å TOAST-—Ç–∞–±–ª–∏—Ü—ã**:

```sql
SELECT * FROM pg_class WHERE relname LIKE 'pg_toast%';
```

### ‚úÖ `pg_toast_temp_N`

- –í—Ä–µ–º–µ–Ω–Ω—ã–µ TOAST-—Ç–∞–±–ª–∏—Ü—ã (–∞–Ω–∞–ª–æ–≥ `pg_temp` –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö).
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ **–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏**.

### ‚úÖ `pg_statistic`

- –•—Ä–∞–Ω–∏—Ç **—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –æ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤**.
- –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `ANALYZE`.

üìå **–ü—Ä–∏–º–µ—Ä: –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ —Ç–∞–±–ª–∏—Ü–µ `users`**:

```sql
SELECT * FROM pg_statistic WHERE starelid = 'users'::regclass;
```

---

## üîπ **–ò—Ç–æ–≥**

|**–°—Ö–µ–º–∞**|**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**|
|---|---|
|`public`|–°—Ö–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫—É–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Å—Ö–µ–º—ã.|
|`pg_catalog`|–°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ PostgreSQL (—Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥).|
|`information_schema`|–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SQL-–∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∞–±–ª–∏—Ü–∞—Ö, –∫–æ–ª–æ–Ω–∫–∞—Ö –∏ —Å—Ö–µ–º–∞—Ö.|
|`pg_temp`|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã).|
|`pg_toast`|–•—Ä–∞–Ω–∏—Ç "—Ä–∞–∑–¥—É—Ç—ã–µ" –¥–∞–Ω–Ω—ã–µ (`TEXT`, `BYTEA`).|
|`pg_statistic`|–î–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.|

‚úÖ **–î–∞–ª–µ–µ: –ß–∞—Å—Ç—å 5 ‚Äì –ü—É—Ç—å –ø–æ–∏—Å–∫–∞ (`search_path`)**. –ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å? üöÄ