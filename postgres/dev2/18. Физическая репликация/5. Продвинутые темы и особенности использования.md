### Часть 5: Продвинутые темы и особенности использования

#### Каскадная репликация
Каскадная репликация — это схема, при которой одна реплика может передавать данные дальше на другие реплики. Это позволяет создавать цепочку реплик:

- **Преимущества**:
  - Уменьшение нагрузки на основной сервер.
  - Экономия сетевого трафика.

- **Ограничения**:
  - Синхронная репликация возможна только между основным сервером и первой репликой.
  - Чем длиннее цепочка, тем больше возможное отставание данных.

#### Отложенная репликация
Отложенная репликация позволяет намеренно задерживать применение изменений на реплике:

- **Преимущества**:
  - Возможность восстановления данных на момент времени до возникновения ошибки.
  - Полезно для анализа состояния системы в прошлом.

- **Настройка**:
  - Можно задать фиксированную задержку (например, 3 часа).

#### Обратная связь между мастером и репликой
Обратная связь позволяет реплике информировать мастер о необходимости сохранения определенных записей WAL:

- **Преимущества**:
  - Предотвращает конфликты при выполнении долгих запросов на реплике.
  - Позволяет более эффективно управлять процессом очистки на основном сервере.

- **Настройка параметров**:
  - `max_standby_streaming_delay`
  - `hot_standby_feedback`

#### Особенности работы с долгими запросами
Долгие запросы на реплике могут привести к конфликтам с процессом очистки на основном сервере:

- **Решения**:
  - Использование обратной связи.
  - Настройка параметров задержки.

#### Заключение
Продвинутые возможности физической репликации позволяют создавать сложные архитектуры с каскадной репликацией, использовать отложенную репликацию для анализа прошлых состояний системы и эффективно управлять конфликтами при помощи обратной связи.

Хотите перейти к следующей части, где мы рассмотрим переключение на реплику и аварийное восстановление?