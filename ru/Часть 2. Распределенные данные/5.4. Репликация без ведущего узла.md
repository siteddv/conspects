Репликация в СУБД может быть с одним ведущим узлом или без него. В первом случае клиент отправляет запрос на запись ведущему, который дублирует его на ведомых. Во втором случае клиент может направлять записи сразу на несколько реплик, что обеспечивает большую гибкость, но усложняет порядок обработки операций. Примеры безведомых систем — Dynamo, Riak, Cassandra и Voldemort.

### Запись в базу данных при отказе одного из узлов

В схеме репликации без ведущего узла при недоступности одной из реплик операции записи могут быть подтверждены большинством реплик (кворумом). Например, если одна из трех реплик недоступна, достаточно, чтобы две из оставшихся реплик приняли запись, и клиент получит подтверждения от этих двух. Однако при восстановлении недоступной реплики может возникнуть проблема с устаревшими данными, так как она не получила информацию о произошедших операциях записи. Чтобы избежать получения устаревших значений, клиенты отправляют запросы сразу к нескольким репликам, получая разные ответы. Для определения актуальности данных используется система номеров версий.

![[Pasted image 20241106025324.png]]