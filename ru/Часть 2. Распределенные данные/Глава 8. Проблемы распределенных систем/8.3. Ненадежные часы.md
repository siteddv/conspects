Часы и точное измерение времени критичны для приложений, таких как определение истечения времени ожидания, расчет времени отклика, запросов в секунду или времени, проведенного на сайте. В распределенных системах проблемы возникают из-за различных часов на машинах, которые могут быть неточными. Для синхронизации используется NTP, который позволяет компьютерам подстраивать свои часы с учетом времени, передаваемого серверами, получающими информацию от точных источников, например, GPS.

### Монотонные часы и часы истинного времени

В современных компьютерах существует как минимум две разновидности часов:
часы истинного времени (time-of-day clock) и монотонные часы (monotonic clock).
Хотя и те и другие измеряют время, необходимо их различать, поскольку они слу-
жат разным целям.

### Часы истинного времени

Часы истинного времени возвращают дату и время согласно календарю (например, с начала эры UNIX). Функции, как clock_gettime(CLOCK_REALTIME) в Linux или System.currentTimeMillis() в Java, предоставляют количество секунд с полуночи 1 января 1970 года по UTC. Эти часы синхронизируются через NTP, но могут быть сброшены, если локальное время сильно отличается от серверного. Из-за игнорирования секунд координации и прыжков времени они не подходят для измерения прошедшего времени. Ранее разрешение часов было грубым, но современные системы решают эту проблему.

### Монотонные часы

Монотонные часы, такие как clock_gettime(CLOCK_MONOTONIC) в Linux и System.nanoTime() в Java, подходят для измерения продолжительности времени, например, времени отклика. Они всегда движутся вперед, в отличие от часов истинного времени, которые могут прыгать назад. Монотонные часы измеряют только прошедшее время, но их абсолютные значения не имеют смысла, и их нельзя сравнивать между разными компьютерами. NTP подстраивает частоту монотонных часов, но не изменяет их значения вперед или назад. Разрешение таких часов обычно достаточно высокое, до микросекунд.

### Синхронизация часов и их точность

