## **üìå –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: —Å–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–æ—Ä–Ω–æ–π –º–æ–¥–µ–ª–∏**

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞–∑–±–µ—Ä–µ–º, **–∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —Å –Ω—É–ª—è** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Anchor Modeling.

üìå **–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
–£ –Ω–∞—Å –µ—Å—Ç—å –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö **–º–∞–≥–∞–∑–∏–Ω–∞ –∫–æ–º–ø–∞–∫—Ç-–¥–∏—Å–∫–æ–≤**, –≥–¥–µ **—Ñ–∏–ª—å–º—ã —Å–¥–∞—é—Ç—Å—è –≤ –∞—Ä–µ–Ω–¥—É**.  
–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –ë–î —É –Ω–∞—Å –±—ã–ª–∏ –±—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:

- **–§–∏–ª—å–º—ã** (Film)
- **–ö–æ–º–ø–∞–∫—Ç-–¥–∏—Å–∫–∏** (Inventory)
- **–§–∞–∫—Ç—ã –∞—Ä–µ–Ω–¥—ã** (Rental)
- **–ü–ª–∞—Ç–µ–∂–∏** (Payment)
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ–∏–ª—å–º–æ–≤** (Category)
- **–ê–∫—Ç–µ—Ä—ã** (Actor)
- **–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏** (Customer)
- **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏** (Staff)
- **–ú–∞–≥–∞–∑–∏–Ω—ã** (Store)

–¢–µ–ø–µ—Ä—å **–ø–µ—Ä–µ–Ω–µ—Å–µ–º** —ç—Ç—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ Anchor Modeling.

---

## **üìå –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ Anchor Modeling Tool**

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **Anchor Modeling Tool (AMT)** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏.

- –û—Ç–∫—Ä—ã–≤–∞–µ–º **–Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**.
- –í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –µ—Å—Ç—å **–æ–¥–∏–Ω –∞–Ω–∫–æ—Ä** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

üìå **–§—É–Ω–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:**  
‚úÖ –ú–æ–∂–Ω–æ **–ø–µ—Ä–µ–º–µ—â–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã**, **—Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤—è–∑–∏** –º–µ–∂–¥—É –Ω–∏–º–∏.  
‚úÖ –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ **–∞–Ω–∫–æ—Ä –∏–ª–∏ –∞—Ç—Ä–∏–±—É—Ç** –ø–æ—è–≤–ª—è—é—Ç—Å—è **–Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (–∏–º—è, —Ç–∏–ø, —Å—Ö–µ–º–∞).  
‚úÖ –ö–æ–¥ SQL **–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–∏.

---

## **üìå –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–æ—Ä–∞ "–§–∏–ª—å–º"**

üîπ –î–æ–±–∞–≤–ª—è–µ–º **–∞–Ω–∫–æ—Ä Film** (–§–∏–ª—å–º).  
üîπ –≠—Ç–æ **–æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å**, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å–º—ã.  
üîπ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**

- **–ò–º—è:** `Film`
- **–ö–æ—Ä–æ—Ç–∫–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä:** `FM`
- **–°—Ö–µ–º–∞:** `Anchor`
- **–¢–∏–ø –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞:** `INT`

üí° **–í–∞–∂–Ω–æ:**  
**–ê–Ω–∫–æ—Ä—ã –ù–ï —Ö—Ä–∞–Ω—è—Ç –∞—Ç—Ä–∏–±—É—Ç—ã** ‚Äì –∏—Ö –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## **üìå –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫ "–§–∏–ª—å–º"**

–°–æ–∑–¥–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Ñ–∏–ª—å–º:

|–ê—Ç—Ä–∏–±—É—Ç|–ö–æ–¥ (ID)|–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö|
|---|---|---|
|–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞|`TTL`|`VARCHAR(255)`|
|–û–ø–∏—Å–∞–Ω–∏–µ|`DSC`|`TEXT`|
|–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞|`REL`|`INT`|
|–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞—Ä–µ–Ω–¥—ã|`DUR`|`INT`|
|–†–µ–π—Ç–∏–Ω–≥|`RTG`|`VARCHAR(5)`|

üìå **–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç –≤ AMT?**

- –ù–∞–∂–∏–º–∞–µ–º **–Ω–∞ –∞–Ω–∫–æ—Ä Film** ‚Üí **–≤—ã–±–∏—Ä–∞–µ–º "–î–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç"**.
- –ó–∞–ø–æ–ª–Ω—è–µ–º **–∏–º—è, –∫–æ–¥ –∏ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö**.
- –ü–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤.

üí° **–ö–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç –≤ SQL?**

```sql
CREATE TABLE Film_Title (
    FilmID INT REFERENCES Film_Anchor,
    Title VARCHAR(255),
    ValidFrom DATETIME,
    PRIMARY KEY (FilmID, ValidFrom)
);
```

‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–∫–ª—é—á–µ–Ω–∞** ‚Üí –ï—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è, –¥–æ–±–∞–≤–∏—Ç—Å—è **–Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞**.

---

## **üìå –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–æ—Ä–∞ "–ö–æ–º–ø–∞–∫—Ç-–¥–∏—Å–∫"**

–ö–æ–º–ø–∞–∫—Ç-–¥–∏—Å–∫–∏ **—Å–æ–¥–µ—Ä–∂–∞—Ç —Ñ–∏–ª—å–º—ã**, –Ω–æ —Å–∞–º–∏ –ø–æ —Å–µ–±–µ —è–≤–ª—è—é—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏**.

- –°–æ–∑–¥–∞–µ–º **–∞–Ω–∫–æ—Ä Inventory** (–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å).
- **–ö–æ—Ä–æ—Ç–∫–∏–π ID:** `IV`
- **–¢–∏–ø –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞:** `INT`

üìå **–î–æ–±–∞–≤–ª—è–µ–º —Å–≤—è–∑—å –º–µ–∂–¥—É Film –∏ Inventory**

- **–ö–∞–∂–¥—ã–π –¥–∏—Å–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω —Ñ–∏–ª—å–º**
- **–¢–µ–∫—Å—Ç —Å–≤—è–∑–∏:** `"Inventory contains Film"`

üí° **SQL –¥–ª—è —Å–≤—è–∑–∏ (Tie):**

```sql
CREATE TABLE Inventory_Tie (
    InventoryID INT REFERENCES Inventory_Anchor,
    FilmID INT REFERENCES Film_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (InventoryID, FilmID, ValidFrom)
);
```

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –µ—Å–ª–∏ **—Ñ–∏–ª—å–º—ã –±—É–¥—É—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∏—Å–∫–∞—Ö**, —ç—Ç–æ –ª–µ–≥–∫–æ **–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è** —á–µ—Ä–µ–∑ —Å–≤—è–∑—å.

---

## **üìå –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–æ—Ä–∞ "–§–∞–∫—Ç—ã –∞—Ä–µ–Ω–¥—ã"**

üîπ –î–æ–±–∞–≤–ª—è–µ–º **–∞–Ω–∫–æ—Ä Rental** (–ê—Ä–µ–Ω–¥–∞).  
üîπ **–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ**, –ø–æ—ç—Ç–æ–º—É –æ–Ω–æ —Ç–æ–∂–µ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç—Å—è –∫–∞–∫ **–∞–Ω–∫–æ—Ä**.  
üîπ **–ö–æ—Ä–æ—Ç–∫–∏–π ID:** `RE`

üìå **–°–æ–∑–¥–∞–µ–º —Å–≤—è–∑—å "–≠—Ç–æ—Ç –¥–∏—Å–∫ –±—ã–ª –∞—Ä–µ–Ω–¥–æ–≤–∞–Ω"**

- **Inventory ‚Üí Rental**
- **–¢–µ–∫—Å—Ç —Å–≤—è–∑–∏:** `"Inventory was rented"`

üìå **–î–æ–±–∞–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã –∫ Rental**

|–ê—Ç—Ä–∏–±—É—Ç|–ö–æ–¥ (ID)|–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö|
|---|---|---|
|–î–∞—Ç–∞ –∞—Ä–µ–Ω–¥—ã|`RDT`|`DATETIME`|
|–î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞|`RTD`|`DATETIME`|

üí° **SQL:**

```sql
CREATE TABLE Rental_Date (
    RentalID INT REFERENCES Rental_Anchor,
    RentalDate DATETIME,
    ValidFrom DATETIME,
    PRIMARY KEY (RentalID, ValidFrom)
);
```

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ **–¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞—Ä–µ–Ω–¥—ã**, –Ω–µ –∏–∑–º–µ–Ω—è—è –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É.

---

## **üìå –®–∞–≥ 6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π**

üîπ –°–æ–∑–¥–∞–µ–º **–∞–Ω–∫–æ—Ä Payment** (–ü–ª–∞—Ç–µ–∂).  
üîπ **ID:** `PM`  
üîπ **–°–≤—è–∑—å "Rental ‚Üí Payment"**

üìå **–î–æ–±–∞–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã –∫ Payment**

|–ê—Ç—Ä–∏–±—É—Ç|–ö–æ–¥ (ID)|–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö|
|---|---|---|
|–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞|`AMT`|`DECIMAL(10,2)`|
|–î–∞—Ç–∞ –ø–ª–∞—Ç–µ–∂–∞|`PMD`|`DATETIME`|

‚úÖ **–¢–µ–ø–µ—Ä—å –∞—Ä–µ–Ω–¥–∞ –¥–∏—Å–∫–æ–≤ —Å–≤—è–∑–∞–Ω–∞ —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏!**

üí° **SQL:**

```sql
CREATE TABLE Payment_Amount (
    PaymentID INT REFERENCES Payment_Anchor,
    Amount DECIMAL(10,2),
    ValidFrom DATETIME,
    PRIMARY KEY (PaymentID, ValidFrom)
);
```

---

## **üìå –®–∞–≥ 7: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL-–∫–æ–¥–∞**

üìå **–ö–∞–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤ AMT?**

1. –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–∫–ª–∞–¥–∫—É **Generate SQL**.
2. –í—ã–±–∏—Ä–∞–µ–º **–°–£–ë–î** (PostgreSQL, MySQL, SQL Server –∏ —Ç. –¥.).
3. –ù–∞–∂–∏–º–∞–µ–º **"Generate"**.

üí° **–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```sql
CREATE TABLE Film_Anchor (
    FilmID INT PRIMARY KEY
);

CREATE TABLE Film_Title (
    FilmID INT REFERENCES Film_Anchor,
    Title VARCHAR(255),
    ValidFrom DATETIME,
    PRIMARY KEY (FilmID, ValidFrom)
);

CREATE TABLE Inventory_Anchor (
    InventoryID INT PRIMARY KEY
);

CREATE TABLE Inventory_Tie (
    InventoryID INT REFERENCES Inventory_Anchor,
    FilmID INT REFERENCES Film_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (InventoryID, FilmID, ValidFrom)
);
```

‚úÖ **–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ SQL**, –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–µ –≤ –±–∞–∑—É**.

---

## **üìå –ò—Ç–æ–≥: –ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏?**

‚úÖ **–°–æ–∑–¥–∞–ª–∏ –∞–Ω–∫–æ—Ä–Ω—É—é –º–æ–¥–µ–ª—å** –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ —Ñ–∏–ª—å–º–æ–≤.  
‚úÖ **–†–∞–∑–±–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∞–Ω–∫–æ—Ä—ã, –∞—Ç—Ä–∏–±—É—Ç—ã, —Å–≤—è–∑–∏**.  
‚úÖ **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏ SQL-–∫–æ–¥** –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
‚úÖ **–ú–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–Ω–æ—Å—Ç—å** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.

‚ùå **–ú–∏–Ω—É—Å:**

- –ü–æ–ª—É—á–∏–ª–æ—Å—å **–º–Ω–æ–≥–æ —Ç–∞–±–ª–∏—Ü** (–∫–∞–∂–¥—ã–π –∞—Ç—Ä–∏–±—É—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ).
- –î–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏–¥–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å **–º–Ω–æ–≥–æ JOIN-–æ–≤**.