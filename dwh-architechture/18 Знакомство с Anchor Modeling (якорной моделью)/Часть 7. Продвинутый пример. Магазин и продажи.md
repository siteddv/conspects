## **üìå –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ø—Ä–æ–¥–∞–∂ –≤ Anchor Modeling**

–†–∞–Ω–µ–µ –º—ã –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–ª–∏ **–∞—Ä–µ–Ω–¥—É —Ñ–∏–ª—å–º–æ–≤**, —Ç–µ–ø–µ—Ä—å —Ä–∞–∑–±–µ—Ä–µ–º **–º–æ–¥–µ–ª—å –ø—Ä–æ–¥–∞–∂ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–µ**.

üìå **–ß—Ç–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∂–∞—Ö?**  
‚úÖ **–ü—Ä–æ–¥—É–∫—Ç—ã (—Ç–æ–≤–∞—Ä—ã)** ‚Äì —á—Ç–æ –ø—Ä–æ–¥–∞–µ—Ç—Å—è?  
‚úÖ **–ö–ª–∏–µ–Ω—Ç—ã** ‚Äì –∫—Ç–æ –ø–æ–∫—É–ø–∞–µ—Ç?  
‚úÖ **–ú–∞–≥–∞–∑–∏–Ω—ã** ‚Äì –≥–¥–µ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ–∫—É–ø–∫–∞?  
‚úÖ **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏** ‚Äì –∫—Ç–æ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –ø—Ä–æ–¥–∞–∂—É?  
‚úÖ **–§–∞–∫—Ç –ø—Ä–æ–¥–∞–∂–∏** ‚Äì –∫–æ–≥–¥–∞ –∏ –∫–∞–∫–æ–π —Ç–æ–≤–∞—Ä –±—ã–ª –∫—É–ø–ª–µ–Ω?  
‚úÖ **–¶–µ–Ω–∞** ‚Äì —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–¥–∞–∂–∏.

üìå **–í–∞–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**

- **–ê—Ç—Ä–∏–±—É—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å–≤—è–∑–∏** ‚Üí –∑–Ω–∞—á–∏—Ç, **—Ñ–∞–∫—Ç –ø—Ä–æ–¥–∞–∂–∏ –æ—Ñ–æ—Ä–º–ª—è–µ–º –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–Ω–∫–æ—Ä**.
- –ò—Å—Ç–æ—Ä–∏—á–Ω–æ—Å—Ç—å —Ü–µ–Ω ‚Üí **—Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ü–µ–Ω—É –≤ –º–æ–º–µ–Ω—Ç –ø–æ–∫—É–ø–∫–∏**.
- **–ì–∏–±–∫–æ—Å—Ç—å** ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## **üìå –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–æ—Ä–∞ "–ü—Ä–æ–¥—É–∫—Ç" (Product_Anchor)**

üîπ **–ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä ‚Äì —ç—Ç–æ –∞–Ω–∫–æ—Ä**.  
üîπ **ID:** `PR`.  
üîπ **–¢–∏–ø –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞:** `INT`.

üìå **–î–æ–±–∞–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã —Ç–æ–≤–∞—Ä–∞**

|–ê—Ç—Ä–∏–±—É—Ç|–ö–æ–¥ (ID)|–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö|
|---|---|---|
|–ù–∞–∑–≤–∞–Ω–∏–µ|`PRN`|`VARCHAR(255)`|
|–ö–∞—Ç–µ–≥–æ—Ä–∏—è|`PRC`|`VARCHAR(100)`|

üí° **SQL:**

```sql
CREATE TABLE Product_Anchor (
    ProductID INT PRIMARY KEY
);

CREATE TABLE Product_Name (
    ProductID INT REFERENCES Product_Anchor,
    Name VARCHAR(255),
    ValidFrom DATETIME,
    PRIMARY KEY (ProductID, ValidFrom)
);
```

‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ **–¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è**.

---

## **üìå –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–æ—Ä–∞ "–ü—Ä–æ–¥–∞–∂–∞" (Sale_Anchor)**

üîπ **–§–∞–∫—Ç –ø—Ä–æ–¥–∞–∂–∏ ‚Äì —ç—Ç–æ –∞–Ω–∫–æ—Ä**.  
üîπ **ID:** `SA`.  
üîπ **–¢–∏–ø –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞:** `INT`.

üìå **–î–æ–±–∞–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã –ø—Ä–æ–¥–∞–∂–∏**

|–ê—Ç—Ä–∏–±—É—Ç|–ö–æ–¥ (ID)|–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö|
|---|---|---|
|–î–∞—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏|`SAD`|`DATETIME`|
|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ|`SAQ`|`INT`|
|–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞|`SAT`|`DECIMAL(10,2)`|

üí° **SQL:**

```sql
CREATE TABLE Sale_Anchor (
    SaleID INT PRIMARY KEY
);

CREATE TABLE Sale_Date (
    SaleID INT REFERENCES Sale_Anchor,
    SaleDate DATETIME,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, ValidFrom)
);
```

‚úÖ **–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ ‚Äì —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å**.

---

## **üìå –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π**

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ **—Å–≤—è–∑–∞—Ç—å –ø—Ä–æ–¥–∞–∂—É —Å –¥—Ä—É–≥–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏**.

### **1Ô∏è‚É£ –°–≤—è–∑—å "–ü—Ä–æ–¥–∞–∂–∞ –≤–∫–ª—é—á–∞–µ—Ç –ü—Ä–æ–¥—É–∫—Ç" (Sale ‚Üí Product)**

üîπ **–ö–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º**.  
üîπ **–°–≤—è–∑—å:** `Sale ‚Üí Product`.

üí° **SQL:**

```sql
CREATE TABLE Sale_Product_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    ProductID INT REFERENCES Product_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, ProductID, ValidFrom)
);
```

‚úÖ –¢–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º, **–∫–∞–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç –±—ã–ª –ø—Ä–æ–¥–∞–Ω –≤ –∫–∞–∂–¥–æ–π –ø—Ä–æ–¥–∞–∂–µ**.

---

### **2Ô∏è‚É£ –°–≤—è–∑—å "–ü—Ä–æ–¥–∞–∂–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞ –ö–ª–∏–µ–Ω—Ç–æ–º" (Sale ‚Üí Customer)**

üîπ **–ö–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º**.  
üîπ **–°–≤—è–∑—å:** `Sale ‚Üí Customer`.

üí° **SQL:**

```sql
CREATE TABLE Sale_Customer_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    CustomerID INT REFERENCES Customer_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, CustomerID, ValidFrom)
);
```

‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, **–∫–∞–∫–∏–µ –∫–ª–∏–µ–Ω—Ç—ã —á—Ç–æ –ø–æ–∫—É–ø–∞–ª–∏**.

---

### **3Ô∏è‚É£ –°–≤—è–∑—å "–ü—Ä–æ–¥–∞–∂–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º" (Sale ‚Üí Staff)**

üîπ **–ö–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º**.  
üîπ **–°–≤—è–∑—å:** `Sale ‚Üí Staff`.

üí° **SQL:**

```sql
CREATE TABLE Sale_Staff_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    StaffID INT REFERENCES Staff_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, StaffID, ValidFrom)
);
```

‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, **–∫–∞–∫–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –æ—Ñ–æ—Ä–º–∏–ª–∏ –ø—Ä–æ–¥–∞–∂—É**.

---

### **4Ô∏è‚É£ –°–≤—è–∑—å "–ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –≤ –ú–∞–≥–∞–∑–∏–Ω–µ" (Sale ‚Üí Store)**

üîπ **–ö–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –º–∞–≥–∞–∑–∏–Ω—É**.  
üîπ **–°–≤—è–∑—å:** `Sale ‚Üí Store`.

üí° **SQL:**

```sql
CREATE TABLE Sale_Store_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    StoreID INT REFERENCES Store_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, StoreID, ValidFrom)
);
```

‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, **–≤ –∫–∞–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö –∫–∞–∫–∏–µ —Ç–æ–≤–∞—Ä—ã –ø—Ä–æ–¥–∞—é—Ç—Å—è**.

---

## **üìå –®–∞–≥ 4: –§–∏–∫—Å–∞—Ü–∏—è —Ü–µ–Ω —Å —É—á–µ—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏**

üìå **–ö–∞–∫ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É –≤ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–¥–∞–∂–∏?**

- **–î–æ–±–∞–≤–ª—è–µ–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ (Knot) —Ü–µ–Ω**.
- **–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Ü–µ–Ω—É –∫ –ø—Ä–æ–¥–∞–∂–µ.**

### **1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ "–¶–µ–Ω—ã" (Price_Knot)**

üí° **SQL:**

```sql
CREATE TABLE Price_Knot (
    PriceID INT PRIMARY KEY,
    Price DECIMAL(10,2)
);
```

‚úÖ **–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–Ω—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª–∏.**

---

### **2Ô∏è‚É£ –°–≤—è–∑—å "–ü—Ä–æ–¥–∞–∂–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ü–µ–Ω—É" (Sale ‚Üí Price)**

üí° **SQL:**

```sql
CREATE TABLE Sale_Price_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    PriceID INT REFERENCES Price_Knot,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, PriceID, ValidFrom)
);
```

‚úÖ **–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–≤–æ—é —Ü–µ–Ω—É —Ç–æ–≤–∞—Ä–∞**.

---

## **üìå –®–∞–≥ 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL-–∫–æ–¥–∞**

üìå **–ö–∞–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤ AMT?**

1. –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–∫–ª–∞–¥–∫—É **"Generate SQL"**.
2. –í—ã–±–∏—Ä–∞–µ–º **–°–£–ë–î** (PostgreSQL, MySQL, SQL Server –∏ —Ç. –¥.).
3. –ù–∞–∂–∏–º–∞–µ–º **"Generate"**.

üí° **–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```sql
CREATE TABLE Sale_Anchor (
    SaleID INT PRIMARY KEY
);

CREATE TABLE Sale_Product_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    ProductID INT REFERENCES Product_Anchor,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, ProductID, ValidFrom)
);

CREATE TABLE Sale_Price_Tie (
    SaleID INT REFERENCES Sale_Anchor,
    PriceID INT REFERENCES Price_Knot,
    ValidFrom DATETIME,
    PRIMARY KEY (SaleID, PriceID, ValidFrom)
);
```

‚úÖ **–¢–µ–ø–µ—Ä—å –º–æ–¥–µ–ª—å –ø—Ä–æ–¥–∞–∂ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞!**

---

## **üìå –ò—Ç–æ–≥: –ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏?**

‚úÖ **–°–æ–∑–¥–∞–ª–∏ –∞–Ω–∫–æ—Ä–Ω—É—é –º–æ–¥–µ–ª—å –ø—Ä–æ–¥–∞–∂**.  
‚úÖ **–†–∞–∑–±–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∞–Ω–∫–æ—Ä—ã, –∞—Ç—Ä–∏–±—É—Ç—ã –∏ —Å–≤—è–∑–∏**.  
‚úÖ **–§–∏–∫—Å–∏—Ä—É–µ–º —Ü–µ–Ω—É –≤ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–¥–∞–∂–∏**.  
‚úÖ **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º SQL-–∫–æ–¥ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**.

‚ùå **–ú–∏–Ω—É—Å—ã:**

- **–ú–Ω–æ–≥–æ —Ç–∞–±–ª–∏—Ü** ‚Üí —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤.
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤**.